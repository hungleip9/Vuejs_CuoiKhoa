{"remainingRequest":"/home/hunglq/Downloads/Vuejs_project/node_modules/babel-loader/lib/index.js!/home/hunglq/Downloads/Vuejs_project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/hunglq/Downloads/Vuejs_project/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hunglq/Downloads/Vuejs_project/src/views/LoginForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hunglq/Downloads/Vuejs_project/src/views/LoginForm.vue","mtime":1615885872023},{"path":"/home/hunglq/Downloads/Vuejs_project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/Downloads/Vuejs_project/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hunglq/Downloads/Vuejs_project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/Downloads/Vuejs_project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL2h1bmdscS9Eb3dubG9hZHMvVnVlanNfcHJvamVjdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBhcGkgZnJvbSAnLi4vYXBpJzsKaW1wb3J0IHsgbWFwU3RhdGUsIG1hcE11dGF0aW9ucyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luRm9ybSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJ1bGVGb3JtOiB7CiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIHBhc3N3b3JkOiAnJwogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIGVtYWlsOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAnRW1haWwga2jDtG5nIMSRxrDhu6NjIGLhu48gdHLhu5FuZyEnLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9LCB7CiAgICAgICAgICB0eXBlOiAnZW1haWwnLAogICAgICAgICAgbWVzc2FnZTogJ0VtYWlsIGtow7RuZyBo4bujcCBs4buHIScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ03huq10IGto4bqpdSBraMO0bmcgxJHGsOG7o2MgYuG7jyB0cuG7kW5nIScsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogNiwKICAgICAgICAgIG1lc3NhZ2U6ICdN4bqtdCBraOG6qXUga2jDtG5nIMSRxrDhu6NjIMOtdCBoxqFuIDYga8OtIHThu7EnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgbGFiZWw6ICd0b3AnCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCdhdXRoJywgWydpc0F1dGhlbnRpY2F0ZWQnXSkpLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKCdhdXRoJywgWyd1cGRhdGVMb2dpblN0YXR1cycsICd1cGRhdGVBdXRoVXNlcicsICd1cGRhdGVUb2tlbiddKSksIHt9LCB7CiAgICBmb3Jnb3RQYXNzOiBmdW5jdGlvbiBmb3Jnb3RQYXNzKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnZm9yZ290LXBhc3N3b3JkJyk7CiAgICB9LAogICAgaGFuZGxlb2dpbjogZnVuY3Rpb24gaGFuZGxlb2dpbihmb3JtTmFtZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgZW1haWw6IF90aGlzLnJ1bGVGb3JtLmVtYWlsLAogICAgICAgICAgICBwYXNzd29yZDogX3RoaXMucnVsZUZvcm0ucGFzc3dvcmQKICAgICAgICAgIH07CiAgICAgICAgICBhcGkubG9naW4oZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6ICfEkMSDbmcgbmjhuq1wIHRow6BuaCBjw7RuZyEnLAogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzLnVwZGF0ZUxvZ2luU3RhdHVzKHsKICAgICAgICAgICAgICBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWNjZXNzX3Rva2VuJywgcmVzcG9uc2UuZGF0YS5hY2Nlc3NfdG9rZW4pOwoKICAgICAgICAgICAgX3RoaXMudXBkYXRlVG9rZW4ocmVzcG9uc2UuZGF0YS5hY2Nlc3NfdG9rZW4pOwoKICAgICAgICAgICAgaWYgKF90aGlzLiRyb3V0ZXIuY3VycmVudFJvdXRlLm5hbWUgIT09ICdIb21lJykgewogICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lOiAnSG9tZScKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogJ0VtYWlsIGhv4bq3YyBt4bqtdCBraOG6qXUga2jDtG5nIGNow61uaCB4w6FjJywKICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogJ8SQxINuZyBuaOG6rXAgdGjhuqV0IGLhuqFpIScsCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgIH0pOwoKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9wYXRoL3JlZ2lzdGVyJyk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["LoginForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,OAAA,GAAA,MAAA,QAAA;AACA,SAAA,QAAA,EAAA,YAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,KAAA,EAAA;AACA,QAAA,KAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,4BAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,IAAA,EAAA,OAAA;AAAA,UAAA,OAAA,EAAA,qBAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA,CADA;AAKA,QAAA,QAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,+BAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,EAEA;AAAA,UAAA,GAAA,EAAA,CAAA;AAAA,UAAA,OAAA,EAAA,oCAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAFA;AALA,OALA;AAeA,MAAA,KAAA,EAAA;AAfA,KAAA;AAiBA,GApBA;AAqBA,EAAA,QAAA,oBACA,QAAA,CAAA,MAAA,EAAA,CAAA,iBAAA,CAAA,CADA,CArBA;AAwBA,EAAA,OAAA,kCACA,YAAA,CAAA,MAAA,EAAA,CAAA,mBAAA,EAAA,gBAAA,EAAA,aAAA,CAAA,CADA;AAEA,IAAA,UAFA,wBAEA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,iBAAA;AACA,KAJA;AAKA,IAAA,UALA,sBAKA,QALA,EAKA;AAAA;;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,cAAA,IAAA,GAAA;AACA,YAAA,KAAA,EAAA,KAAA,CAAA,QAAA,CAAA,KADA;AAEA,YAAA,QAAA,EAAA,KAAA,CAAA,QAAA,CAAA;AAFA,WAAA;AAIA,UAAA,GAAA,CAAA,KAAA,CAAA,IAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,KAAA,CAAA,QAAA,CAAA;AACA,cAAA,OAAA,EAAA,uBADA;AAEA,cAAA,IAAA,EAAA;AAFA,aAAA;;AAIA,YAAA,KAAA,CAAA,iBAAA,CAAA;AAAA,cAAA,eAAA,EAAA;AAAA,aAAA;;AACA,YAAA,YAAA,CAAA,OAAA,CAAA,cAAA,EAAA,QAAA,CAAA,IAAA,CAAA,YAAA;;AACA,YAAA,KAAA,CAAA,WAAA,CAAA,QAAA,CAAA,IAAA,CAAA,YAAA;;AACA,gBAAA,KAAA,CAAA,OAAA,CAAA,YAAA,CAAA,IAAA,KAAA,MAAA,EAAA;AACA,cAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,gBAAA,IAAA,EAAA;AAAA,eAAA;AACA;AACA,WAXA,EAWA,KAXA,CAWA,YAAA;AACA,YAAA,KAAA,CAAA,QAAA,CAAA;AAAA,cAAA,OAAA,EAAA,qCAAA;AAAA,cAAA,IAAA,EAAA;AAAA,aAAA;AACA,WAbA;AAcA,SAnBA,MAmBA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA;AACA,YAAA,OAAA,EAAA,qBADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA;;AAIA,iBAAA,KAAA;AACA;AACA,OA3BA;AA4BA,KAlCA;AAmCA,IAAA,QAnCA,sBAmCA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,gBAAA;AACA;AArCA;AAxBA,CAAA","sourcesContent":["<template>\n  <div class=\"loginWrap\">\n    <div class=\"logo\">\n      <img src=\"../assets/images/blackpink.png\" alt=\"\">\n    </div>\n    <el-form :model=\"ruleForm\" :label-position=\"label\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"120px\" class=\"demo-ruleForm\">\n      <el-form-item prop=\"email\">\n        <label style=\"float: left\" >Email</label>\n        <el-input v-model=\"ruleForm.email\"></el-input>\n      </el-form-item>\n      <el-form-item prop=\"password\">\n        <label style=\"float: left\" >Mật khẩu</label>\n        <el-input type=\"password\" v-model=\"ruleForm.password\"></el-input>\n      </el-form-item>\n    </el-form>\n    <div class=\"forgotPass\">\n      <el-button @click=\"forgotPass()\">Quên mật khẩu?</el-button>\n    </div>\n    <button class=\"btn-login\" @click=\"handleogin('ruleForm')\">\n      ĐĂNG NHẬP\n    </button>\n    <div class=\"register\">\n      <el-button @click=\"register()\">Đăng kí</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport api from '../api'\nimport {mapState, mapMutations} from 'vuex'\nexport default {\n  name: \"LoginForm\",\n  data() {\n    return {\n      ruleForm: {\n        email: '',\n        password: '',\n      },\n      rules: {\n        email: [\n          { required: true, message: 'Email không được bỏ trống!', trigger: 'change' },\n          { type: 'email', message: 'Email không hợp lệ!', trigger: 'blur' },\n        ],\n        password: [\n          { required: true, message: 'Mật khẩu không được bỏ trống!', trigger: 'change' },\n          { min: 6, message: 'Mật khẩu không được ít hơn 6 kí tự', trigger: 'blur' },\n        ],\n      },\n      label: 'top',\n    }\n  },\n  computed: {\n    ...mapState('auth', ['isAuthenticated']),\n  },\n  methods: {\n    ...mapMutations('auth', ['updateLoginStatus', 'updateAuthUser', 'updateToken']),\n    forgotPass() {\n      this.$router.push('forgot-password')\n    },\n    handleogin(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          let data = {\n            email: this.ruleForm.email,\n            password: this.ruleForm.password,\n          }\n          api.login(data).then((response) => {\n            this.$message({\n              message: 'Đăng nhập thành công!',\n              type: 'success'\n            });\n            this.updateLoginStatus({isAuthenticated: true})\n            localStorage.setItem('access_token', response.data.access_token)\n            this.updateToken(response.data.access_token)\n            if (this.$router.currentRoute.name !== 'Home') {\n              this.$router.push({ name: 'Home' })\n            }\n          }).catch(() => {\n            this.$message({message: 'Email hoặc mật khẩu không chính xác', type: 'error'});\n          })\n        } else {\n          this.$message({\n            message: 'Đăng nhập thất bại!',\n            type: 'error'\n          });\n          return false;\n        }\n      });\n    },\n    register() {\n      this.$router.push('/path/register')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.loginWrap {\n  width: 444px;\n  padding: 24px;\n  background-color: #ffffff;\n  border-radius: 10px;\n  box-sizing: border-box;\n  .logo {\n    width: 100%;\n    margin-bottom: 15px;\n    img {\n      width: 200px;\n    }\n  }\n  .inputWrap {\n  width: 100%;\n  height: auto;\n  overflow: hidden;\n    .el-input {\n      height: 50px !important;\n    }\n    .error {\n      font-size: 12px;\n      color: #f54b5e;\n      float: left;\n    }\n  }\n  .forgotPass {\n  margin-top: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n    .el-button {\n      border: 0;\n      color: #0080dd;\n      padding: 7px;\n    }\n  }\n  .register {\n    margin-top: 8px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    .el-button {\n      border: 0;\n      color: #0080dd;\n      padding: 7px;\n    }\n  }\n  .btn-login {\n    width: 100%;\n    height: 50px;\n    background-color: #f4a7bb;\n    color: #ffffff;\n    border: 0;\n    border-radius: 4px;\n    margin-top: 24px;\n    outline: none;\n    cursor: pointer;\n  }\n}\n</style>"],"sourceRoot":"src/views"}]}