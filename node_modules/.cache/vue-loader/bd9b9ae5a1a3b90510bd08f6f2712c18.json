{"remainingRequest":"/home/hunglq/Documents/Vuejs_CuoiKhoa/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hunglq/Documents/Vuejs_CuoiKhoa/src/views/LoginForm.vue?vue&type=style&index=0&id=3155ac83&lang=scss&scoped=true&","dependencies":[{"path":"/home/hunglq/Documents/Vuejs_CuoiKhoa/src/views/LoginForm.vue","mtime":1615911103871},{"path":"/home/hunglq/Documents/Vuejs_CuoiKhoa/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/Documents/Vuejs_CuoiKhoa/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/hunglq/Documents/Vuejs_CuoiKhoa/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/hunglq/Documents/Vuejs_CuoiKhoa/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/Documents/Vuejs_CuoiKhoa/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hunglq/Documents/Vuejs_CuoiKhoa/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubG9naW5XcmFwIHsKICB3aWR0aDogNDQ0cHg7CiAgcGFkZGluZzogMjRweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAubG9nbyB7CiAgICB3aWR0aDogMTAwJTsKICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICBpbWcgewogICAgICB3aWR0aDogMTAwcHg7CiAgICB9CiAgfQogIC5pbnB1dFdyYXAgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogYXV0bzsKICBvdmVyZmxvdzogaGlkZGVuOwogICAgLmVsLWlucHV0IHsKICAgICAgaGVpZ2h0OiA1MHB4ICFpbXBvcnRhbnQ7CiAgICB9CiAgICAuZXJyb3IgewogICAgICBmb250LXNpemU6IDEycHg7CiAgICAgIGNvbG9yOiAjZjU0YjVlOwogICAgICBmbG9hdDogbGVmdDsKICAgIH0KICB9CiAgLmZvcmdvdFBhc3MgewogIG1hcmdpbi10b3A6IDhweDsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsKICAgIC5lbC1idXR0b24gewogICAgICBib3JkZXI6IDA7CiAgICAgIGNvbG9yOiAjMDA4MGRkOwogICAgICBwYWRkaW5nOiA3cHg7CiAgICB9CiAgfQogIC5yZWdpc3RlciB7CiAgICBtYXJnaW4tdG9wOiA4cHg7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgLmVsLWJ1dHRvbiB7CiAgICAgIGJvcmRlcjogMDsKICAgICAgY29sb3I6ICMwMDgwZGQ7CiAgICAgIHBhZGRpbmc6IDdweDsKICAgIH0KICB9CiAgLmJ0bi1sb2dpbiB7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogNTBweDsKICAgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20gcmlnaHQsICM2NDg0NTUsICM1YTllOTgpOwogICAgY29sb3I6ICNmZmZmZmY7CiAgICBib3JkZXI6IDA7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICBtYXJnaW4tdG9wOiAyNHB4OwogICAgb3V0bGluZTogbm9uZTsKICAgIGN1cnNvcjogcG9pbnRlcjsKICB9Cn0K"},{"version":3,"sources":["LoginForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LoginForm.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"loginWrap\">\n    <div class=\"logo\">\n      <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/95/Vue.js_Logo_2.svg/1200px-Vue.js_Logo_2.svg.png\" alt=\"\">\n    </div>\n    <el-form :model=\"ruleForm\" :label-position=\"label\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"120px\" class=\"demo-ruleForm\">\n      <el-form-item prop=\"email\">\n        <label style=\"float: left\" >Email</label>\n        <el-input v-model=\"ruleForm.email\"></el-input>\n      </el-form-item>\n      <el-form-item prop=\"password\">\n        <label style=\"float: left\" >Mật khẩu</label>\n        <el-input type=\"password\" v-model=\"ruleForm.password\"></el-input>\n      </el-form-item>\n    </el-form>\n    <div class=\"forgotPass\">\n      <el-button @click=\"register()\">Đăng kí</el-button>\n      <el-button @click=\"forgotPass()\">Quên mật khẩu?</el-button>\n    </div>\n    <button class=\"btn-login\" @click=\"handleogin('ruleForm')\">\n      ĐĂNG NHẬP\n    </button>\n  </div>\n</template>\n\n<script>\nimport api from '../api'\nimport {mapState, mapMutations} from 'vuex'\nexport default {\n  name: \"LoginForm\",\n  data() {\n    return {\n      ruleForm: {\n        email: '',\n        password: '',\n      },\n      rules: {\n        email: [\n          { required: true, message: 'Email không được bỏ trống!', trigger: 'change' },\n          { type: 'email', message: 'Email không hợp lệ!', trigger: 'blur' },\n        ],\n        password: [\n          { required: true, message: 'Mật khẩu không được bỏ trống!', trigger: 'change' },\n          { min: 6, message: 'Mật khẩu không được ít hơn 6 kí tự', trigger: 'blur' },\n        ],\n      },\n      label: 'top',\n    }\n  },\n  computed: {\n    ...mapState('auth', ['isAuthenticated']),\n  },\n  methods: {\n    ...mapMutations('auth', ['updateLoginStatus', 'updateAuthUser', 'updateToken']),\n    forgotPass() {\n      this.$router.push('forgot-password')\n    },\n    handleogin(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          let data = {\n            email: this.ruleForm.email,\n            password: this.ruleForm.password,\n          }\n          api.login(data).then((response) => {\n            this.$message({\n              message: 'Đăng nhập thành công!',\n              type: 'success'\n            });\n            this.updateLoginStatus({isAuthenticated: true})\n            localStorage.setItem('access_token', response.data.access_token)\n            this.updateToken(response.data.access_token)\n            if (this.$router.currentRoute.name !== 'Home') {\n              this.$router.push({ name: 'Home' })\n            }\n          }).catch(() => {\n            this.$message({message: 'Email hoặc mật khẩu không chính xác', type: 'error'});\n          })\n        } else {\n          this.$message({\n            message: 'Đăng nhập thất bại!',\n            type: 'error'\n          });\n          return false;\n        }\n      });\n    },\n    register() {\n      this.$router.push('/register')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.loginWrap {\n  width: 444px;\n  padding: 24px;\n  background-color: #ffffff;\n  border-radius: 10px;\n  box-sizing: border-box;\n  .logo {\n    width: 100%;\n    margin-bottom: 15px;\n    img {\n      width: 100px;\n    }\n  }\n  .inputWrap {\n  width: 100%;\n  height: auto;\n  overflow: hidden;\n    .el-input {\n      height: 50px !important;\n    }\n    .error {\n      font-size: 12px;\n      color: #f54b5e;\n      float: left;\n    }\n  }\n  .forgotPass {\n  margin-top: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n    .el-button {\n      border: 0;\n      color: #0080dd;\n      padding: 7px;\n    }\n  }\n  .register {\n    margin-top: 8px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    .el-button {\n      border: 0;\n      color: #0080dd;\n      padding: 7px;\n    }\n  }\n  .btn-login {\n    width: 100%;\n    height: 50px;\n    background-image: linear-gradient(to bottom right, #648455, #5a9e98);\n    color: #ffffff;\n    border: 0;\n    border-radius: 4px;\n    margin-top: 24px;\n    outline: none;\n    cursor: pointer;\n  }\n}\n</style>"]}]}